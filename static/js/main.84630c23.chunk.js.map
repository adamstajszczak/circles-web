{"version":3,"sources":["components/pages/Splash/styles.ts","components/utils/Flex.tsx","store/context.ts","store/hooks.ts","store/reducer.ts","storage/storage.ts","utils/hooks/general.ts","storage/hooks.ts","api/client.ts","api/commands.ts","store/actions.ts","api/hooks.ts","config.ts","components/pages/Splash/index.tsx","components/pages/Intro/styles.ts","components/pages/Intro/trans.ts","components/pages/Intro/IntroView.tsx","components/pages/Intro/index.tsx","components/pages/Login/styles.ts","components/pages/Login/trans.ts","api/auth.ts","components/pages/Login/index.tsx","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","components/pages/Signup/index.tsx","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","components/pages/Welcome/index.tsx","components/pages/Home/styles.ts","components/pages/Home/trans.ts","components/pages/Home/index.tsx","components/pages/Profile/styles.ts","components/pages/Profile/trans.ts","components/pages/Profile/index.tsx","components/pages/Room/styles.ts","components/pages/Room/index.tsx","Routes.tsx","theme.ts","utils/hooks/locale.ts","store/StoreProvider.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/wave.svg","assets/circles-logo.svg","assets/intro00.svg","assets/intro01.svg","assets/intro02.svg","assets/verifed.svg","assets/celebration.svg","assets/personal.svg"],"names":["useStyles","makeStyles","theme","root","color","palette","primary","main","logo","width","height","Flex","props","reducedProps","_props","args","key","includes","reduceProps","style","Object","freeze","display","className","children","INITIAL_STATE","currentAccount","undefined","StoreContext","React","createContext","useStore","stateFn","useContext","useDispatch","context","useRef","action","console","log","type","payload","setStore","state","changes","reduceState","current","setLocalStorageValue","value","localStorage","setItem","id","useSignal","useState","setState","useStorageSetter","signal","removeItem","resetLocalStorageValue","Client","url","this","entries","map","e","JSON","stringify","join","command","Promise","resolve","reject","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","then","response","json","parsed_response","catch","Command","status","data","AccountInfo","account_id","flags","rooms","contacts","AccountChange","AccountLogin","token","RoomInfo","room_id","accounts","setCurrentAccount","cli","useDispatchCommand","ref","fn","a","_args","execute","rq","useAccount","updateStore","options","dispatchStore","dispatchCommand","accountInfoRq","Splash","history","useHistory","location","classes","dispatch","accountIdToken","storage","storageFn","useEffect","accountLogin","accountInfo","push","initialPath","alignItems","justifyContent","src","alt","introViewRoot","maxWidth","breakpoints","values","md","margin","introViewContentWrapper","marginTop","translations","preset","title","en_US","pl_PL","de_DE","firstTitle","secondTitle","thirdTitle","yes","ProgressIcons","activePart","active","ProgressIcon","useTheme","Icon","opacity","fontSize","IntroView","partId","prevButtonText","nextButtonText","flexDirection","image","Typography","variant","align","paragraph","description","Button","onClick","onPrev","onNext","Intro","useLittera","translated","setActivePart","handleNext","useCallback","ap","handlePrev","intro00","intro01","intro02","minHeight","up","container","padding","spacing","inputWrapper","loginImage","position","right","bottom","imgContainer","overflow","background","dark","wave","zIndex","left","footerWrapper","signInWithPopup","provider","firebase","GoogleAuthProvider","addScope","result","fetchAccountIdToken","error","errorCode","code","errorMessage","message","signInWithCredentials","email","password","signInWithEmailAndPassword","currentUser","getIdToken","idToken","signUpWithCredentials","createUserWithEmailAndPassword","signOut","Login","emailInput","setEmailInput","passwordInput","setPasswordInput","errorMsg","setErrorMsg","handleLogin","user","uid","account","handleInputChange","inputName","event","newValue","target","waveAsset","onSubmit","preventDefault","err","TextField","marginBottom","onChange","label","Alert","severity","AlertTitle","Fab","aria-label","signImage","Signup","storageSetter","confirmPasswordInput","setConfirmPasswordInput","length","personalImage","welcomeTitle","Welcome","labelField","setLabelField","name","nameField","setNameField","surname","surnameField","setSurnameField","handleChange","field","handleSubmit","alert","personalInformationImage","paddingBottom","float","RoomLabel","Home","storeDispatch","handleSignOut","gutterBottom","room","Contact","border","avatar_url","favorite","Profile","contact","CircularProgress","AccountLabel","Room","params","useParams","roomInfoRq","useRoom","access","Routes","useLocation","pathname","exact","path","component","createMuiTheme","secondary","LOCALES","PRESET","no","StoreProvider","initialState","setValue","Provider","App","useLocale","language","setLanguage","ThemeProvider","basename","process","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","document","getElementById","URL","href","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.84630c23.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      color: theme.palette.primary.main,\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n    display: \"flex\",\n      ...reducedProps,\n  });\n\n  return <div style={style} className={props.className}>{props.children}</div>\n}\n\nexport default Flex;","import React from \"react\";\nimport { IAccount } from \"types\";\n\nexport interface IState {\n    currentAccount?: IAccount;\n}\n\nexport const INITIAL_STATE: IState = Object.freeze({\n    currentAccount: undefined,\n})\n\n/**\n * Our holy Store!\n */\nexport const StoreContext = React.createContext<[IState, React.Dispatch<React.SetStateAction<IState>>]>([INITIAL_STATE, () => {}]);","import { useContext, useRef } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return stateFn(context[0]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"📁\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n\n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","export interface IStorage {\n    accountIdToken?: string;\n}\n\nexport const getLocalStorageValue = (key: keyof IStorage) => {\n    const storage = localStorage as unknown as IStorage;\n\n    return storage[key];\n}\n\nexport const getLocalStorage = () => {\n    return localStorage as unknown as IStorage;\n}\n\nexport const setLocalStorageValue = (key: keyof IStorage, value: string) => {\n    localStorage.setItem(key, value);\n}\n\nexport const resetLocalStorageValue = (key: keyof IStorage) => {\n    localStorage.removeItem(key);\n}","import { useState, useRef, useEffect } from \"react\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\nlet id = 0;\nexport const useSignal = () => {\n    const [, setState] = useState(0);\n\n    const signal = () => {\n        setState(id++);\n    }\n\n    return signal;\n}","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"📶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, contacts?: boolean) {\n        super([\"accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, contacts: !!contacts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(volume?: number) {\n        super([\"accountList\", { volume }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\n\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}","import { IAccount } from \"types\";\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commans/AccountInfo\n */\nexport const setCurrentAccount = (payload: IAccount | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}","import { useRef } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config';\nimport { IAccount, IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    }\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<IAccount | null | undefined>(!account_id ? currentAccount ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    //const signal = useSignal();\n\n    if(ref.current === undefined) {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n\n            if(accountInfoRq.status === 200) {\n                ref.current = accountInfoRq.data as IAccount | null;\n                if(updateStore) dispatchStore(setCurrentAccount(accountInfoRq.data));\n                //signal();\n            }\n        }\n\n        if(account_id || currentAccount?.id)\n            fn();\n    }\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    //const signal = useSignal();\n\n    if(ref.current === undefined) {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                //signal();\n            }\n        }\n\n        if(room_id)\n            fn();\n    }\n    \n    return ref.current ?? null;\n}","export default {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\"\n}","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin } from 'api/commands';\nimport { setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(accountInfo.data));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        history.push(\"/welcome\")\n                    } else {\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\">\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    },\n    introViewRoot:{\n        maxWidth: theme.breakpoints.values.md,\n        margin: \"0 auto\",\n    },\n    introViewContentWrapper:{\n      maxWidth: \"60%\",\n      marginTop: \"5%\",\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Intro\",\n        pl_PL: \"Intro\",\n        de_DE: \"Intro\"\n    },\n    firstTitle: {\n        en_US: \"Welcome to safe chat!\",\n        pl_PL: \"Pierwszy Part\",\n        de_DE: \"Erstes Part\"\n    },\n\n    secondTitle: {\n        en_US: \"Available everywhere\",\n        pl_PL: \"Drugi Part\",\n        de_DE: \"Zweiten Part\"\n    },\n\n    thirdTitle: {\n        en_US: \"Reliable and Stable\",\n        pl_PL: \"Trzeci Part\",\n        de_DE: \"Dreien Part\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { Button, Typography, Icon, useTheme } from \"@material-ui/core\";\nimport Flex from \"components/utils/Flex\";\nimport useStyles from \"./styles\";\n\ntype IntroViewProps = {\n    partId: number;\n    activePart: number;\n    \n    title: string;\n    description: string;\n    image: any;\n    \n    onNext: () => void;\n    onPrev: () => void;\n}\n\nconst IntroView = (props: IntroViewProps) => {\n    const classes = useStyles();\n\n    // Prevent rendering if not active.\n    if(props.activePart !== props.partId) return null;\n\n    // TODO: Add translations.\n    const prevButtonText = props.partId === 0 ? \"Skip\" : \"Back\";\n    const nextButtonText = props.partId === 2 ? \"Continue\" : \"Next\";\n\n    return <div className={classes.introViewRoot} style={{height: \"100vh\"}}>\n        <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" height=\"90vh\" alignItems=\"center\" justifyContent=\"center\">\n                {/* Image */}\n                <Flex alignItems=\"center\" justifyContent=\"center\">\n                    <img src={props.image} alt={props.title} style={{maxWidth: \"300px\", height: \"auto\"}} />\n                </Flex>\n\n                {/* Content */}\n                <Flex className={classes.introViewContentWrapper} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n                    <Typography variant=\"h2\">{props.title}</Typography>\n                    <Typography align=\"center\" paragraph >{props.description}</Typography>\n                </Flex>\n            </Flex>\n\n            {/* Actions */}\n            <Flex justifyContent=\"space-evenly\" height=\"10vh\" alignItems=\"center\" width=\"60%\">\n                <Button onClick={props.onPrev}>{prevButtonText}</Button>\n                <ProgressIcons activePart={props.activePart} />\n                <Button variant=\"contained\" color=\"primary\" onClick={props.onNext}>{nextButtonText}</Button>\n            </Flex>\n        </Flex>\n        \n        \n        \n        </div>\n}\n\nconst ProgressIcons = ({activePart} : {activePart: number}) => {\n    \n    return  <Flex justifyContent=\"center\" alignItems=\"center\">\n                <ProgressIcon active={activePart >= 0} />\n                <ProgressIcon active={activePart >= 1} />\n                <ProgressIcon active={activePart >= 2} />\n            </Flex>\n}\n\nconst ProgressIcon = ({active}: {active: boolean}) => {\n    const theme = useTheme();\n\n    return <Icon style={{ opacity: active ? 1 : 0.15, fontSize: \"14px\", color: active ? theme.palette.primary.main : \"#000\" }}>lens</Icon>;\n}\n\nexport default IntroView;\n","import React, { useState, useCallback } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport IntroView from \"./IntroView\";\n\nimport intro00 from \"assets/intro00.svg\";\nimport intro01 from \"assets/intro01.svg\";\nimport intro02 from \"assets/intro02.svg\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Intro = () => {\n    // history.push(\"/path\");\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    // Controls the active part.\n    const [activePart, setActivePart] = useState<number>(0);\n    \n\n    const handleNext = useCallback(() => {\n        // To get the correct result, I'm looking up activePart (ap) passed to setActivePart method instead of using the in scope state variable.\n        setActivePart(ap => { \n\n            // Handle end of intro by navigating to login screen.\n            if(ap === 2) {\n                history.push(\"/login\");\n                // ? Changing value here after navigating might result in a memory leak as the Intro component is then unmounted. Move outside setActivePart and use \"activePart\" variable instead of \"ap\" to prevent state change.\n                return ap;\n            }\n\n            // Increment activePart.\n            return ap+1;\n        });\n    }, [setActivePart, history]);\n\n    const handlePrev = useCallback(() => {\n        setActivePart(ap => {\n\n            if(ap === 0) {\n                history.push(\"/login\");\n                return ap;\n            }\n\n            return ap-1;\n        });\n    }, [setActivePart, history]);\n\n    return <div className={classes.root}>\n        <IntroView activePart={activePart} partId={0} onNext={handleNext} onPrev={handlePrev} image={intro00} title={translated.firstTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={1} onNext={handleNext} onPrev={handlePrev} image={intro01} title={translated.secondTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={2} onNext={handleNext} onPrev={handlePrev} image={intro02} title={translated.thirdTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n    </div>\n}\n\nexport default Intro;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    loginImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign in\",\n        pl_PL: \"Bądź w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import * as firebase from \"firebase/app\";\nimport { setLocalStorageValue } from \"storage/storage\";\n\nexport const signInWithPopup = async () => {\n    return new Promise((resolve, reject) => {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n        \n        firebase.auth().signInWithPopup(provider).then(function(result) {\n            resolve(result);\n            fetchAccountIdToken();\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n            reject(error);\n            // ...\n          });\n          \n    });\n}\n\nexport const signInWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => {\n                resolve(result);\n                fetchAccountIdToken();\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const fetchAccountIdToken = () => {\n    const currentUser = firebase?.auth()?.currentUser ?? null;\n    if(currentUser)\n        currentUser.getIdToken(/* forceRefresh */ true).then(function(idToken) {\n            setLocalStorageValue(\"accountIdToken\", idToken);\n        }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n        });\n}\n\nexport const signUpWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const signOut = async () => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().signOut()\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const getCurrentUserIdToken = async () => {\n    return new Promise<string>((resolve, reject) => {\n        firebase.auth()?.currentUser?.getIdToken(true).then(function(idToken) {\n            resolve(idToken);\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n            reject(error);\n          });\n    });\n}","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport loginImage from \"assets/verifed.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signInWithCredentials, signInWithPopup } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountInfo } from \"api/commands\";\nimport { useDispatch } from \"store/hooks\";\nimport { setCurrentAccount } from \"store/actions\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Login = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n\n    const handleLogin = async (result: any) => {\n        const account = await dispatchCommand(AccountInfo, result?.user?.uid || \"\", true);\n\n        if(account.status === 200) {\n            //const accountIdToken = await getCurrentUserIdToken();\n        \n            // ! Remember account id token.\n            //storageSetter(\"accountIdToken\", accountIdToken ?? \"\");\n            dispatchStore(setCurrentAccount(account.data));\n\n            if(account.data?.flags?.includes(\"needs_init\")) \n                history.push(\"/welcome\");\n            else\n                history.push(\"/home\");\n        } else if(account.status === 404) {\n            // TODO: Account not found! What shall be done then?\n            setErrorMsg(\"Account not found!\");\n        }\n\n    }\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n\n        const email = emailInput;\n        const password = passwordInput;\n        signInWithCredentials(email, password).then(handleLogin).catch(err => {\n            setErrorMsg(err.message);\n        });\n    }\n\n    const handlePopupLogin = () => {\n        signInWithPopup()\n            .then(handleLogin)\n            .catch((error) => {\n                setErrorMsg(error.message);\n            });\n\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n\n        if(inputName === \"email\") setEmailInput(newValue);\n        if(inputName === \"password\") setPasswordInput(newValue);\n    }\n\n    const handleBack = () => {\n        history.push(\"/signup\");\n    }\n\n    return <div style={{width: \"100%\"}}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.loginImage} src={loginImage}  alt=\"loginImage\"/>\n            <img className={classes.wave} src={waveAsset}  alt=\"\"/>\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-Mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{margin: \"10px 0\"}} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n\n                    <Flex justifyContent=\"space-between\"> \n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Sign Up</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{color: \"white\"}}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                    \n                </form>\n                <Button onClick={handlePopupLogin} type=\"button\">Login with Google!</Button>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\">Forgot password?</Typography>\n        </Flex>\n    </div>\n}\n\nexport default Login;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"Bądź w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    \n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n\n        const email = emailInput;\n        const password = passwordInput;\n        const confirmPassword = confirmPasswordInput;\n        \n        if(confirmPassword !== password) {\n            setErrorMsg(\"Passwords are not identical.\");\n            return;\n        }\n\n        if(password.length < 13) {\n            setErrorMsg(\"Password is too short.\");\n            return;\n        }\n\n         signUpWithCredentials(email, password).then(async (result: any) => {\n            console.log(\"Result =>\", result);\n            \n            /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n            console.log(\"Account Data =>\", acc);\n            if(acc.status === 200) {\n                storageSetter(\"currentAccountId\", acc.data.account_id);\n                \n                console.log(\"All success! Fuck yea!\");\n                history.push(\"/welcome\");\n            } else if(acc.status === 404) {\n                // TODO: Account not found!\n                setErrorMsg(\"Account not found!\");\n            }*/\n            result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n            history.push(\"/welcome\");\n\n         }).catch(err => {\n             setErrorMsg(err.message);\n         });\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n\n        if(inputName === \"email\") setEmailInput(newValue);\n        if(inputName === \"password\") setPasswordInput(newValue);\n        if(inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{width: \"100%\"}}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage}  alt=\"signImage\"/>\n            <img className={classes.wave} src={waveAsset}  alt=\"\"/>\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{margin: \"10px 0\"}} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n\n                    <Flex justifyContent=\"space-between\"> \n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{color: \"white\"}}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                    \n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n    </div>\n}\n\nexport default Signup;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\n\ntype EditableField = \"label\" | \"name\" | \"surname\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [nameField, setNameField] = useState(currentAccount?.name ?? \"\");\n    const [surnameField, setSurnameField] = useState(currentAccount?.surname ?? \"\");\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch(field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"name\":\n                setNameField(value)\n                break;\n            case \"surname\":\n                setSurnameField(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if(labelField && nameField && surnameField) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", { label: labelField, name: nameField, surname: surnameField });\n\n            if(changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if(account.status === 200) {\n                    dispatchStore(setCurrentAccount(account.data));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage}  alt=\"PersonalInformation\"/>\n            <img className={classes.wave} src={waveAsset}  alt=\"wave\"/>\n        </div>\n            <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n            \n            <Typography style={{opacity: \"0.7\", marginBottom: \"35px\"}} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n            \n            <Typography style={{paddingBottom: \"16px\"}} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>        \n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"name\" label=\"Name\" variant=\"outlined\" value={nameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"surname\" label=\"Surname\" variant=\"outlined\" value={surnameField} onChange={handleChange} />\n            </Flex>\n\n                <Button style={{color: \"white\", float: \"right\", marginBottom: \"15px\"}} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n            \n        </div>\n\n    </div>\n}\n\nexport default Welcome;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    }\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Home\",\n        pl_PL: \"Strona główna\",\n        de_DE: \"Startseite\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { signOut } from \"api/auth\";\nimport { useStorageSetter } from \"storage/hooks\";\nimport { setCurrentAccount } from \"store/actions\";\nimport Flex from \"components/utils/Flex\";\nimport { IRoom } from \"types\";\n\n\n/**\n * Home page component.\n */\nconst Home = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        history.push(\"/login\");\n    }\n\n    return <div className={classes.root}>\n        {translated.title}\n        <Flex flexDirection=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n            {currentAccount && <Button onClick={() => history.push(\"/profile\")}>{currentAccount.label} Profile</Button>}\n            {currentAccount && <Button variant=\"contained\" onClick={handleSignOut}>Sign out</Button>}\n        </Flex>\n\n        <br/>\n        <Typography variant=\"h2\" gutterBottom>Rooms</Typography>\n        {\n            currentAccount?.rooms && currentAccount.rooms.map(room => <RoomLabel key={room.id} {...room} />)\n        }\n    </div>\n}\n\nconst RoomLabel = (props: IRoom) => {\n    const history = useHistory();\n\n    return <Typography onClick={() => history.push(`/room/${props.id}`)}>{props.label}</Typography>\n}\n\nexport default Home;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    }\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Profile\",\n        pl_PL: \"Profil\",\n        de_DE: \"Profil\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { useAccount } from \"api/hooks\";\n\n\n/**\n * Profile page component.\n */\nconst Profile = () => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const currentAccount = useAccount(undefined, true);\n\n    if(!currentAccount) return <CircularProgress />\n\n    return <div className={classes.root}>\n        {translated.title}\n        <img  alt=\"profile\" src={currentAccount.avatar_url} style={{width: \"220px\", height: \"auto\"}} />\n        <Typography paragraph>{currentAccount.label}</Typography>\n        <Typography paragraph>{currentAccount.name}</Typography>\n        <Typography paragraph>{currentAccount.surname}</Typography>\n        <Typography paragraph>{currentAccount.email}</Typography>\n        <br/>\n        <Typography variant=\"h3\">Contacts:</Typography>\n        {\n            currentAccount?.contacts && currentAccount.contacts.map(contact => <Contact key={contact.account_id} {...contact} />)\n        }\n    </div>\n}\n\nconst Contact = (props: { account_id: string, favorite?: boolean }) => {\n    const account = useAccount(props.account_id, false, { flags: true, rooms: true, contacts: true });\n\n    if(!account) return <div>...</div>\n\n    return <div style={{border: \"1px solid #121212\"}}>\n        <img  alt=\"profile\" src={account.avatar_url} style={{width: \"220px\", height: \"auto\"}} />\n        <Typography gutterBottom variant=\"h4\">{account.label}</Typography>\n        <Typography >{account.name} {account.surname}</Typography>\n        <Typography>Is favorite? {props.favorite ? \"true\" : \"false\"}</Typography>\n    </div>\n}\n\nexport default Profile;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    }\n  }));\n\n  export default useStyles;\n","import React from \"react\";\nimport useStyles from \"./styles\"\nimport { Typography, CircularProgress } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\n//import { useStore } from \"store/hooks\";\nimport { useRoom, useAccount } from \"api/hooks\";\n\n\n/**\n * Room page component.\n */\nconst Room = () => {\n    const params = useParams<{id: string}>();\n    const classes = useStyles();\n\n    // const currentAccount = useStore(state => state.currentAccount);\n    const room = useRoom(params.id);\n\n    if(!room) return <CircularProgress />\n\n    \n\n    return <div className={classes.root}>\n        <Typography variant=\"h3\">{room.label}</Typography>\n\n\n        <Typography variant=\"h4\">People in room:</Typography>\n        {\n            room?.access?.map(account_id => <AccountLabel key={account_id} account_id={account_id} />)\n        }\n        <br/>\n        Room messages down here =<br/>\n    </div>\n}\n\nconst AccountLabel = (props: { account_id: string }) => {\n    const account = useAccount(props.account_id, false);\n\n    if(!account) return <>...</>\n\n    return <Typography>{account.label}</Typography>\n}\n\nexport default Room;\n","import React, { useEffect } from 'react';\nimport { Switch, Route, useLocation, useHistory } from \"react-router-dom\";\nimport { Home, Splash, Intro, Profile, Login, Signup, Welcome, Room } from 'components/pages';\nimport { Button } from '@material-ui/core';\n\nfunction Routes() {\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    if(location.pathname !== \"/\") {\n      history.push({pathname: \"/\", state:{ initialPath: location.pathname }});\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n  return (\n    <Switch>\n      <Route exact path=\"/\"       component={Splash} />\n      <Route exact path=\"/intro\"  component={Intro} />\n      <Route exact path=\"/signup\"  component={Signup} />\n      <Route exact path=\"/welcome\"  component={Welcome} />\n      <Route exact path=\"/login\"  component={Login} />\n      <Route exact path=\"/home\"   component={Home} />\n      <Route exact path=\"/profile\"  component={Profile} />\n      <Route path=\"/room/:id\"  component={Room} />\n      {/* TODO: Move to a file... */}\n      <Route exact component={() => <div>Error page <br/> <Button variant=\"contained\" onClick={() => history.push(\"/\")}>Reload</Button></div>} />\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import { createMuiTheme } from \"@material-ui/core\";\n\nexport default createMuiTheme({\n    palette: {\n        primary: {\n            main: \"#449ee2\"\n        },\n        secondary: {\n            main: \"#99d8ff\"\n        },\n    },\n    spacing: 4\n\n  })","import {useState} from \"react\";\n\nconst LOCALES = Object.freeze([ \"en_US\", \"pl_PL\", \"de_DE\" ]);\n\nconst PRESET = Object.freeze({\n    yes: {\n        en_US: \"Yes\",\n        pl_PL: \"Tak\",\n        de_DE: \"Ja\"\n    },\n    no: {\n        en_US: \"No\",\n        pl_PL: \"Nie\",\n        de_DE: \"Nein\"\n    }\n});\n\nexport const useLocale = () => {\n    const [locale, setLocale] = useState(LOCALES[0]);\n\n    return [locale, setLocale, PRESET];\n}","import React, { useState } from \"react\";\nimport { StoreContext, IState, INITIAL_STATE } from \"./context\";\n\n\ntype StoreProviderProps = {\n    children: JSX.Element;\n    initialState?: IState\n}\n\n/**\n * React component providing Store context.\n */\nconst StoreProvider = ({ children, initialState }: StoreProviderProps) => {\n    const [value, setValue] = useState<IState>(initialState ?? INITIAL_STATE);\n\n    return <StoreContext.Provider value={[value, setValue]}>\n        {children}\n    </StoreContext.Provider>\n}\n\nexport default StoreProvider;","import React from 'react';\nimport { ThemeProvider } from \"@material-ui/core\";\nimport LitteraProvider from \"react-littera\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport Routes from './Routes';\nimport theme from \"./theme\";\nimport { useLocale } from './utils/hooks/locale';\nimport StoreProvider from 'store/StoreProvider';\n\nfunction App() {\n  const [language, setLanguage, preset] = useLocale();\n\n  return (\n    <StoreProvider>\n      <ThemeProvider theme={theme}>\n        <LitteraProvider language={language} setLanguage={setLanguage} preset={preset}>\n          <Router basename={process.env.REACT_APP_BASENAME ?? \"/\"}>\n            <Routes />\n          </Router>\n        </LitteraProvider>\n      </ThemeProvider>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as firebase from 'firebase/app';\n \nimport 'firebase/auth';\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASEURL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENTID,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/wave.21665015.svg\";","module.exports = __webpack_public_path__ + \"static/media/circles-logo.b212bb26.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro00.563800af.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro01.37601bb1.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro02.1847156e.svg\";","module.exports = __webpack_public_path__ + \"static/media/verifed.1d3d7325.svg\";","module.exports = __webpack_public_path__ + \"static/media/celebration.bc0c3204.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal.ce3bc716.svg\";"],"sourceRoot":""}