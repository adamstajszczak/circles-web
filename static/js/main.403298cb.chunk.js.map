{"version":3,"sources":["assets/circles-logo.svg","assets/intro00.svg","assets/intro01.svg","assets/intro02.svg","assets/verifed.svg","assets/celebration.svg","assets/personal.svg","components/pages/Splash/styles.ts","components/utils/Flex.tsx","store/context.ts","store/hooks.ts","store/reducer.ts","storage/storage.ts","utils/hooks/general.ts","storage/hooks.ts","api/client.ts","api/utils.ts","api/commands.ts","config.ts","store/actions.ts","api/hooks.ts","components/pages/Splash/index.tsx","components/pages/Intro/styles.ts","components/pages/Intro/trans.ts","components/pages/Intro/IntroView.tsx","components/pages/Intro/index.tsx","components/pages/Login/styles.ts","components/pages/Login/trans.ts","api/auth.ts","components/pages/Login/index.tsx","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","components/pages/Signup/index.tsx","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","components/pages/Welcome/index.tsx","components/pages/Home/index.tsx","components/pages/Profile/styles.ts","components/pages/Profile/trans.ts","components/pages/Profile/index.tsx","api/messages.ts","utils/hooks/sound.ts","components/pages/Room/styles.ts","components/pages/Room/Messages.tsx","components/common/MessageInput/styles.ts","components/common/MessageInput/index.tsx","components/pages/Room/MessageForm.tsx","components/pages/Room/RoomView.tsx","components/pages/Room/RecentRooms.tsx","components/pages/Room/index.tsx","components/common/AccountPicker/styles.ts","components/common/AccountPicker/index.tsx","components/pages/Rooms/CreateRoom.tsx","components/pages/Rooms/index.tsx","components/pages/People/index.tsx","components/pages/Highlights/styles.ts","components/pages/Highlights/trans.ts","components/pages/Highlights/index.tsx","components/common/BottomNav/index.tsx","Routes.tsx","theme.ts","utils/hooks/locale.ts","store/StoreProvider.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/wave.svg"],"names":["module","exports","useStyles","makeStyles","theme","root","color","palette","primary","main","logo","width","height","Flex","props","reducedProps","_props","args","key","includes","reduceProps","style","Object","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","INITIAL_STATE","currentAccount","undefined","StoreContext","createContext","useStore","stateFn","useContext","useDispatch","context","useRef","action","console","log","type","payload","setStore","state","changes","reduceState","current","setLocalStorageValue","value","localStorage","setItem","useRestrictedPage","condition","path","history","useHistory","useEffect","push","useRestrictedPageForCurrentAccount","useSignal","useState","updateState","useCallback","useStorageSetter","signal","removeItem","resetLocalStorageValue","Client","url","this","entries","map","e","JSON","stringify","join","command","Promise","resolve","reject","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","then","response","json","parsed_response","catch","Command","status","data","arrayToStringList","arr","toString","replace","checkType","name","types","Error","AccountInfo","account_id","flags","rooms","contacts","AccountChange","AccountList","included","volume","AccountLogin","token","RoomInfo","room_id","accounts","RoomCreate","label","invite","cli","config","setCurrentAccount","updateCurrentAccount","a","execute","rq","useDispatchCommand","ref","fn","_args","useAccount","updateStore","options","dispatchStore","dispatchCommand","id","accountInfoRq","Splash","location","classes","dispatch","accountIdToken","storage","storageFn","accountLogin","accountInfo","initialPath","alignItems","justifyContent","src","alt","introViewRoot","maxWidth","breakpoints","values","md","margin","introViewContentWrapper","marginTop","translations","preset","title","en_US","pl_PL","de_DE","firstTitle","secondTitle","thirdTitle","yes","ProgressIcons","activePart","active","ProgressIcon","useTheme","Icon","opacity","fontSize","IntroView","partId","prevButtonText","nextButtonText","flexDirection","image","Typography","variant","align","paragraph","description","Button","onPrev","onNext","Intro","useLittera","translated","setActivePart","handleNext","ap","handlePrev","intro00","intro01","intro02","minHeight","up","container","padding","spacing","inputWrapper","loginImage","position","right","bottom","imgContainer","overflow","background","dark","wave","zIndex","left","footerWrapper","signInWithPopup","provider","firebase","GoogleAuthProvider","addScope","result","fetchAccountIdToken","error","errorCode","code","errorMessage","message","signInWithCredentials","email","password","signInWithEmailAndPassword","currentUser","getIdToken","idToken","signUpWithCredentials","createUserWithEmailAndPassword","signOut","Login","emailInput","setEmailInput","passwordInput","setPasswordInput","errorMsg","setErrorMsg","isLoading","setIsLoading","handleLogin","user","uid","account","handleInputChange","inputName","event","newValue","target","waveAsset","onSubmit","preventDefault","err","TextField","marginBottom","onChange","Alert","severity","AlertTitle","Fab","aria-label","Backdrop","open","CircularProgress","signImage","Signup","storageSetter","confirmPasswordInput","setConfirmPasswordInput","length","personalImage","welcomeTitle","Welcome","labelField","setLabelField","nameField","setNameField","surname","surnameField","setSurnameField","handleChange","field","handleSubmit","alert","personalInformationImage","paddingBottom","float","Home","useLocation","pathname","Contact","border","avatar_url","gutterBottom","favorite","Profile","contact","useMessages","Audio","audio","playing","setPlaying","play","pause","addEventListener","removeEventListener","useAudio","toggle","messages","setMessages","makeRefPath","on","snapshot","msgs","val","m","flexBasis","down","messagesRoot","minWidth","maxHeight","flexGrow","messageRoot","ownedMessage","alignSelf","backgroundColor","notOwnedMessage","borderRadius","avatar","Message","author","isOwned","atob","rootClasses","cx","source","Messages","roomId","getAuthor","author_id","find","keys","reverse","message_id","inputElement","outline","resize","MessageInput","onKeyPress","shiftKey","placeholder","MessageForm","input","setInput","btoa","focus","handleTextFieldFocus","IconButton","RoomView","params","useParams","room","roomInfoRq","useRoom","submitMessage","timestamp","Date","newMsgKey","child","updates","update","RecentRoom","currentRoomId","RecentRooms","sort","Room","isMobileOnly","useMediaQuery","SingleAccount","selected","paddingTop","cursor","Avatar","AccountPicker","setState","useForkedState","request","useCommand","prevValue","disabled","multiple","Array","isArray","splice","indexOf","CreateRoom","setError","loading","setLoading","setOpen","setSelected","setLabel","handleClose","newRoom","isSubmitDisabled","Dialog","fullWidth","onClose","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","RoomLabel","Rooms","ContactLabel","People","Highlights","storeDispatch","handleSignOut","boxShadow","TABS","BottomNav","visible","split","setValue","BottomNavigation","showLabels","BottomNavigationAction","icon","homeSubpages","Routes","bottomNavVisible","RegExp","test","exact","component","createMuiTheme","secondary","default","LOCALES","PRESET","no","StoreProvider","initialState","Provider","App","useLocale","language","setLanguage","ThemeProvider","basename","process","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","usePublicVapidKey","ReactDOM","render","StrictMode","document","getElementById","URL","href","origin","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.403298cb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/circles-logo.b212bb26.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro00.563800af.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro01.37601bb1.svg\";","module.exports = __webpack_public_path__ + \"static/media/intro02.1847156e.svg\";","module.exports = __webpack_public_path__ + \"static/media/verifed.1d3d7325.svg\";","module.exports = __webpack_public_path__ + \"static/media/celebration.bc0c3204.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal.ce3bc716.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      color: theme.palette.primary.main,\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import React from \"react\";\nimport { IAccount } from \"types\";\n\nexport interface IState {\n    currentAccount?: IAccount;\n}\n\nexport const INITIAL_STATE: IState = Object.freeze({\n    currentAccount: undefined,\n})\n\n/**\n * Our holy Store!\n */\nexport const StoreContext = React.createContext<[IState, React.Dispatch<React.SetStateAction<IState>>]>([INITIAL_STATE, () => {}]);","import { useContext, useRef } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return stateFn(context[0]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"📁\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n\n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","export interface IStorage {\n    accountIdToken?: string;\n}\n\nexport const getLocalStorageValue = (key: keyof IStorage) => {\n    const storage = localStorage as unknown as IStorage;\n\n    return storage[key];\n}\n\nexport const getLocalStorage = () => {\n    return localStorage as unknown as IStorage;\n}\n\nexport const setLocalStorageValue = (key: keyof IStorage, value: string) => {\n    localStorage.setItem(key, value);\n}\n\nexport const resetLocalStorageValue = (key: keyof IStorage) => {\n    localStorage.removeItem(key);\n}","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    return useCallback(() => updateState({}), []);\n}\n","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"📶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","export const isLoaded = (request: any) => {\n    return request !== null && request.status !== 102\n}\n\nconst arrayToStringList = (arr: string[]) => \n        arr.toString().replace(/,/g, \", \")\n\n\n// TODO: Support arrays.\nexport const checkType = (name: string, value: any, ...types: string[]) => {\n\n    if(!types.includes(typeof value)) throw new Error(`Expected ${arrayToStringList(types)} for ${name}, got ${typeof value}`);\n}","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\nimport { checkType } from \"./utils\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, contacts?: boolean) {\n        super([\"accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, contacts: !!contacts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(included?: string[], volume?: number) {\n        super([\"accountList\", { volume, included }]);\n\n        checkType(\"volume\", volume, \"number\", \"undefined\");\n        // TODO: Support arrays. Replace \"object\" with \"array\".\n        checkType(\"included\", included, \"object\", \"undefined\");\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\n\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class RoomCreate extends Command {\n    constructor(account_id: string, label: string, invite: string[]) {\n        super([\"roomCreate\", { label, invite: [...invite, account_id] }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}","export default {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\"\n}","import { IAccount } from \"types\";\nimport config from \"config\";\nimport { AccountInfo } from \"api/commands\";\nimport { Client } from \"api/client\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commands/AccountInfo\n */\nexport const setCurrentAccount = (payload: IAccount | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Update current account.\n * @param payload account_id\n * @see api/commands/AccountInfo\n */\nexport const updateCurrentAccount = async (account_id: string) => {\n    const rq = await cli.execute(new AccountInfo(account_id, true, true, true))\n\n    const payload: IAccount = rq.data;\n\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}","import { useRef, useEffect } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config';\nimport { IAccount, IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n\n    useEffect(() => {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<IAccount | null | undefined>(!account_id ? currentAccount ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n    \n            if(accountInfoRq.status === 200) {\n                ref.current = accountInfoRq.data as IAccount | null;\n                if(updateStore) dispatchStore(setCurrentAccount(accountInfoRq.data));\n                signal();\n            }\n        }\n    \n        if(account_id || currentAccount?.id)\n            fn();\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_id]);\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                signal();\n            }\n        }\n\n        if(room_id) fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n    \n    return ref.current ?? null;\n}","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin } from 'api/commands';\nimport { setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(accountInfo.data));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        history.push(\"/welcome\")\n                    } else {\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\">\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    },\n    introViewRoot:{\n        maxWidth: theme.breakpoints.values.md,\n        margin: \"0 auto\",\n    },\n    introViewContentWrapper:{\n      maxWidth: \"60%\",\n      marginTop: \"5%\",\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Intro\",\n        pl_PL: \"Intro\",\n        de_DE: \"Intro\"\n    },\n    firstTitle: {\n        en_US: \"Welcome to safe chat!\",\n        pl_PL: \"Pierwszy Part\",\n        de_DE: \"Erstes Part\"\n    },\n\n    secondTitle: {\n        en_US: \"Available everywhere\",\n        pl_PL: \"Drugi Part\",\n        de_DE: \"Zweiten Part\"\n    },\n\n    thirdTitle: {\n        en_US: \"Reliable and Stable\",\n        pl_PL: \"Trzeci Part\",\n        de_DE: \"Dreien Part\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { Button, Typography, Icon, useTheme } from \"@material-ui/core\";\nimport Flex from \"components/utils/Flex\";\nimport useStyles from \"./styles\";\n\ntype IntroViewProps = {\n    partId: number;\n    activePart: number;\n    \n    title: string;\n    description: string;\n    image: any;\n    \n    onNext: () => void;\n    onPrev: () => void;\n}\n\nconst IntroView = (props: IntroViewProps) => {\n    const classes = useStyles();\n\n    // Prevent rendering if not active.\n    if(props.activePart !== props.partId) return null;\n\n    // TODO: Add translations.\n    const prevButtonText = props.partId === 0 ? \"Skip\" : \"Back\";\n    const nextButtonText = props.partId === 2 ? \"Continue\" : \"Next\";\n\n    return <div className={classes.introViewRoot} style={{height: \"100vh\"}}>\n        <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" height=\"90vh\" alignItems=\"center\" justifyContent=\"center\">\n                {/* Image */}\n                <Flex alignItems=\"center\" justifyContent=\"center\">\n                    <img src={props.image} alt={props.title} style={{maxWidth: \"300px\", height: \"auto\"}} />\n                </Flex>\n\n                {/* Content */}\n                <Flex className={classes.introViewContentWrapper} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n                    <Typography variant=\"h2\">{props.title}</Typography>\n                    <Typography align=\"center\" paragraph >{props.description}</Typography>\n                </Flex>\n            </Flex>\n\n            {/* Actions */}\n            <Flex justifyContent=\"space-evenly\" height=\"10vh\" alignItems=\"center\" width=\"60%\">\n                <Button onClick={props.onPrev}>{prevButtonText}</Button>\n                <ProgressIcons activePart={props.activePart} />\n                <Button variant=\"contained\" color=\"primary\" onClick={props.onNext}>{nextButtonText}</Button>\n            </Flex>\n        </Flex>\n        \n        \n        \n        </div>\n}\n\nconst ProgressIcons = ({activePart} : {activePart: number}) => {\n    \n    return  <Flex justifyContent=\"center\" alignItems=\"center\">\n                <ProgressIcon active={activePart >= 0} />\n                <ProgressIcon active={activePart >= 1} />\n                <ProgressIcon active={activePart >= 2} />\n            </Flex>\n}\n\nconst ProgressIcon = ({active}: {active: boolean}) => {\n    const theme = useTheme();\n\n    return <Icon style={{ opacity: active ? 1 : 0.15, fontSize: \"14px\", color: active ? theme.palette.primary.main : \"#000\" }}>lens</Icon>;\n}\n\nexport default IntroView;\n","import React, { useState, useCallback } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport IntroView from \"./IntroView\";\n\nimport intro00 from \"assets/intro00.svg\";\nimport intro01 from \"assets/intro01.svg\";\nimport intro02 from \"assets/intro02.svg\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Intro = () => {\n    // history.push(\"/path\");\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    // Controls the active part.\n    const [activePart, setActivePart] = useState<number>(0);\n    \n\n    const handleNext = useCallback(() => {\n        // To get the correct result, I'm looking up activePart (ap) passed to setActivePart method instead of using the in scope state variable.\n        setActivePart(ap => { \n\n            // Handle end of intro by navigating to login screen.\n            if(ap === 2) {\n                history.push(\"/login\");\n                // ? Changing value here after navigating might result in a memory leak as the Intro component is then unmounted. Move outside setActivePart and use \"activePart\" variable instead of \"ap\" to prevent state change.\n                return ap;\n            }\n\n            // Increment activePart.\n            return ap+1;\n        });\n    }, [setActivePart, history]);\n\n    const handlePrev = useCallback(() => {\n        setActivePart(ap => {\n\n            if(ap === 0) {\n                history.push(\"/login\");\n                return ap;\n            }\n\n            return ap-1;\n        });\n    }, [setActivePart, history]);\n\n    return <div className={classes.root}>\n        <IntroView activePart={activePart} partId={0} onNext={handleNext} onPrev={handlePrev} image={intro00} title={translated.firstTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={1} onNext={handleNext} onPrev={handlePrev} image={intro01} title={translated.secondTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={2} onNext={handleNext} onPrev={handlePrev} image={intro02} title={translated.thirdTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n    </div>\n}\n\nexport default Intro;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    loginImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign in\",\n        pl_PL: \"Bądź w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import * as firebase from \"firebase/app\";\nimport { setLocalStorageValue } from \"storage/storage\";\n\nexport const signInWithPopup = async () => {\n    return new Promise((resolve, reject) => {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n        \n        firebase.auth().signInWithPopup(provider).then(function(result) {\n            resolve(result);\n            fetchAccountIdToken();\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n            reject(error);\n            // ...\n          });\n          \n    });\n}\n\nexport const signInWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => {\n                resolve(result);\n                fetchAccountIdToken();\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const fetchAccountIdToken = () => {\n    const currentUser = firebase?.auth()?.currentUser ?? null;\n    if(currentUser)\n        currentUser.getIdToken(/* forceRefresh */ true).then(function(idToken) {\n            setLocalStorageValue(\"accountIdToken\", idToken);\n        }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n        });\n}\n\nexport const signUpWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const signOut = async () => {\n    return new Promise((resolve, reject) => {\n        firebase.auth().signOut()\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"🔒 Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const getCurrentUserIdToken = async () => {\n    return new Promise<string>((resolve, reject) => {\n        firebase.auth()?.currentUser?.getIdToken(true).then(function(idToken) {\n            resolve(idToken);\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 User Id Token =>\", errorCode, errorMessage);\n            reject(error);\n          });\n    });\n}\n\n// TODO: Implement!\nexport const getDeviceToken = async () => {\n    return new Promise<string>((resolve, reject) => {\n        // Get Instance ID token. Initially this makes a network call, once retrieved\n        // subsequent calls to getToken will return from cache.\n        firebase.messaging().getToken().then((currentToken) => {\n            if (currentToken) {\n                resolve(currentToken)\n            } else {\n                console.log(\"🔒 Device Token =>\", \"No Instance ID token available. Request permission to generate one.\");\n                reject(new Error(\"No Instance ID token available. Request permission to generate one.\"));\n            }\n        }).catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"🔒 Device Token =>\", errorCode, errorMessage);\n            reject(error);\n        });\n  \n    });\n}","import React, { useState } from 'react';\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, CircularProgress, Backdrop } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport loginImage from \"assets/verifed.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signInWithCredentials, signInWithPopup } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountInfo } from \"api/commands\";\nimport { useDispatch } from \"store/hooks\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useRestrictedPageForCurrentAccount } from 'utils/hooks/general';\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Login = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n\n    useRestrictedPageForCurrentAccount();\n\n    const handleLogin = async (result: any) => {\n        const account = await dispatchCommand(AccountInfo, result?.user?.uid || \"\", true);\n\n        if (account.status === 200) {\n            //const accountIdToken = await getCurrentUserIdToken();\n\n            // ! Remember account id token.\n            //storageSetter(\"accountIdToken\", accountIdToken ?? \"\");\n            dispatchStore(setCurrentAccount(account.data));\n\n            if (account.data?.flags?.includes(\"needs_init\"))\n            {\n                history.push(\"/welcome\");\n            } else {\n                // TODO: Save device_token.\n                // const device_token = await getDeviceToken();\n                history.push(\"/home\");\n\n            }\n        } else if(account.status === 404) {\n            // TODO: Account not found! What shall be done then?\n            setErrorMsg(\"Account not found!\");\n        }\n        if(account.status !== 0) setIsLoading(false);\n    }\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            signInWithCredentials(email, password).then(handleLogin).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handlePopupLogin = () => {\n        setErrorMsg(\"\");\n        setIsLoading(true);\n        signInWithPopup()\n            .then(handleLogin)\n            .catch((error) => {\n                setErrorMsg(error.message);\n                setIsLoading(false);\n            });\n\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n        }\n    }\n    \n    const handleBack = () => {\n        history.push(\"/signup\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.loginImage} src={loginImage} alt=\"loginImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-Mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Sign Up</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n                <Button onClick={handlePopupLogin} type=\"button\">Login with Google!</Button>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\">Forgot password?</Typography>\n        </Flex>\n\n        {!isLoading ? null :\n            <Backdrop open={true} style={{zIndex:5}}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\n\n\nexport default Login;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"Bądź w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, Backdrop, CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\nimport { useRestrictedPageForCurrentAccount } from \"utils/hooks/general\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n    useRestrictedPageForCurrentAccount();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            const confirmPassword = confirmPasswordInput;\n\n            if (confirmPassword !== password) {\n                setErrorMsg(\"Passwords are not identical.\");\n                setIsLoading(false);\n                return;\n            }\n\n            if (password.length < 13) {\n                setErrorMsg(\"Password is too short.\");\n                setIsLoading(false);\n                return;\n            }\n\n            signUpWithCredentials(email, password).then(async (result: any) => {\n                console.log(\"Result =>\", result);\n\n                /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n                console.log(\"Account Data =>\", acc);\n                if(acc.status === 200) {\n                    storageSetter(\"currentAccountId\", acc.data.account_id);\n                    \n                    console.log(\"All success! Fuck yea!\");\n                    history.push(\"/welcome\");\n                } else if(acc.status === 404) {\n                    // TODO: Account not found!\n                    setErrorMsg(\"Account not found!\");\n                }*/\n                result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n                history.push(\"/welcome\");\n\n            }).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n            if (inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n        }\n\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage} alt=\"signImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n        {!isLoading ? null :\n            <Backdrop open={true} style={{ zIndex: 5 }}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\nexport default Signup;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\n\ntype EditableField = \"label\" | \"name\" | \"surname\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [nameField, setNameField] = useState(currentAccount?.name ?? \"\");\n    const [surnameField, setSurnameField] = useState(currentAccount?.surname ?? \"\");\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch(field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"name\":\n                setNameField(value)\n                break;\n            case \"surname\":\n                setSurnameField(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if(labelField && nameField && surnameField) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", { label: labelField, name: nameField, surname: surnameField });\n\n            if(changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if(account.status === 200) {\n                    dispatchStore(setCurrentAccount(account.data));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage}  alt=\"PersonalInformation\"/>\n            <img className={classes.wave} src={waveAsset}  alt=\"wave\"/>\n        </div>\n            <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n            \n            <Typography style={{opacity: \"0.7\", marginBottom: \"35px\"}} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n            \n            <Typography style={{paddingBottom: \"16px\"}} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>        \n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"name\" label=\"Name\" variant=\"outlined\" value={nameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"surname\" label=\"Surname\" variant=\"outlined\" value={surnameField} onChange={handleChange} />\n            </Flex>\n\n                <Button style={{color: \"white\", float: \"right\", marginBottom: \"15px\"}} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n            \n        </div>\n\n    </div>\n}\n\nexport default Welcome;","import { useEffect } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nfunction Home() {\n    const history = useHistory();\n    const location = useLocation();\n  \n    useEffect(() => {\n      if(location.pathname === \"/home\") {\n        history.push({pathname: \"/home/highlights\"});\n      }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n  \n  return (\nnull\n  );\n}\n\nexport default Home;\n","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    }\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Profile\",\n        pl_PL: \"Profil\",\n        de_DE: \"Profil\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { useAccount } from \"api/hooks\";\n\n\n/**\n * Profile page component.\n */\nconst Profile = () => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const currentAccount = useAccount(undefined, true);\n\n    if(!currentAccount) return <CircularProgress />\n\n    return <div className={classes.root}>\n        {translated.title}\n        <img  alt=\"profile\" src={currentAccount.avatar_url} style={{width: \"220px\", height: \"auto\"}} />\n        <Typography paragraph>{currentAccount.label}</Typography>\n        <Typography paragraph>{currentAccount.name}</Typography>\n        <Typography paragraph>{currentAccount.surname}</Typography>\n        <Typography paragraph>{currentAccount.email}</Typography>\n        <br/>\n        <Typography variant=\"h3\">Contacts:</Typography>\n        {\n            currentAccount?.contacts && currentAccount.contacts.map(contact => <Contact key={contact.account_id} {...contact} />)\n        }\n    </div>\n}\n\nconst Contact = (props: { account_id: string, favorite?: boolean }) => {\n    const account = useAccount(props.account_id, false, { flags: true, rooms: true, contacts: true });\n\n    if(!account) return <div>...</div>\n\n    return <div style={{border: \"1px solid #121212\"}}>\n        <img  alt=\"profile\" src={account.avatar_url} style={{width: \"220px\", height: \"auto\"}} />\n        <Typography gutterBottom variant=\"h4\">{account.label}</Typography>\n        <Typography >{account.name} {account.surname}</Typography>\n        <Typography>Is favorite? {props.favorite ? \"true\" : \"false\"}</Typography>\n    </div>\n}\n\nexport default Profile;","import * as firebase from \"firebase/app\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { IMessage } from \"types\";\nimport { useAudio } from \"utils/hooks/sound\";\n\nconst makeRefPath = (room_id: string) => {\n    return `rooms/${room_id}/messages`;\n}\n\nexport const useMessages = (room_id: string) => {\n    const [, toggle] = useAudio(\"https://cdn-02.anonfiles.com/B4z8W9Bbo8/14878adc-1592945278/notification_sound.mp3\");\n    const [messages, setMessages] = useState<any>(null);\n\n    useEffect(() => {\n        const messagesRef = firebase.database().ref(makeRefPath(room_id));\n\n        messagesRef.on('value', (snapshot) => {\n            const msgs = snapshot.val() ?? [];\n\n            setMessages((m: any) => {\n                if(m !== null && typeof toggle === \"function\") toggle();\n                return msgs;\n            });\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n\n    return messages as {[key: string]: IMessage};\n}\n\ntype SubmitFunction = ((value: string) => void);\n\nexport const useMessageSubmit = (room_id: string, account_id: string) => {\n\n    return useCallback((value: string) => {\n        const message = {\n            author: account_id,\n            value,\n            timestamp: new Date().toString()\n        }\n\n        //firebase.database().ref(makeRefPath(room_id)).set(message);\n        var newMsgKey = firebase.database().ref().child('rooms').child(room_id).child(\"messages\").push().key;\n\n        var updates: any = {};\n        updates[`/rooms/${room_id}/messages/${newMsgKey}`] = message;\n      \n        return firebase.database().ref().update(updates);\n\n    }, [account_id, room_id]) as SubmitFunction;\n}","import { useState, useEffect } from \"react\";\n\nexport const useAudio = (url: string) => {\n  const [audio] = useState(new Audio(url));\n  const [playing, setPlaying] = useState(false);\n\n  const toggle = () => setPlaying(!playing);\n\n  useEffect(() => {\n      playing ? audio.play() : audio.pause();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [playing]\n  );\n\n  useEffect(() => {\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return [playing, toggle];\n};","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      flexBasis: \"70%\",\n      width: \"70%\",\n      \n      [theme.breakpoints.down(\"sm\")]: {\n        flexBasis: \"100%\",\n        width: \"100%\",\n\n      }\n    },\n    messagesRoot: {\n      minWidth: \"70vw\",\n      width: \"100%\",\n      position: \"relative\",\n      maxHeight: \"calc(100vh - 36px)\",\n      height: \"90%\",\n      flexGrow: 1,\n      overflow: \"auto\",\n      display: \"flex\",\n      [theme.breakpoints.down(\"sm\")]: {\n        minWidth: \"99vw\" // TODO: Change to more static value.\n\n      }\n    },\n\n    messageRoot: {\n      margin: \"15px 0\"\n    },\n    ownedMessage: {\n      alignSelf: \"flex-end\",\n      color: \"#000\",\n      backgroundColor: \"#eee\"\n    },\n    notOwnedMessage: {\n      alignSelf: \"flex-start\",\n      color: \"#FFF\",\n      background: theme.palette.primary.main,\n    },\n    message: {\n      maxWidth: \"280px\",\n      position: \"relative\",\n      padding: \"16px 22px\",\n      borderRadius: \"250px\",\n    },\n    avatar: { borderRadius: \"28px\", width: \"28px\", height: \"28px\", backgroundColor: \"white\", right: \"-20px\", bottom: \"-10px\", position: \"relative\", padding: \"3px\", zIndex: 5 }\n  }));\n\n  export default useStyles;","import React, { useCallback } from \"react\";\nimport { CircularProgress, Typography } from \"@material-ui/core\";\nimport { useMessages } from \"api/messages\";\nimport { IAccount, IMessage } from \"types\";\nimport { useStore } from \"store/hooks\";\nimport useStyles from \"./styles\";\nimport Flex from \"components/utils/Flex\";\nimport cx from \"classnames\";\nimport ReactMarkdown from \"react-markdown\";\n\n\nconst Messages = ({ roomId, accounts }: { roomId: string, accounts: IAccount[] }) => {\n    const classes = useStyles();\n    const messages = useMessages(roomId);\n\n    const getAuthor = useCallback((author_id) => accounts.find(account => account.id === author_id) ?? null, [accounts]);\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n    if(!messages) return <CircularProgress />\n\n    if(Object.keys(messages).length === 0) return <Typography variant=\"h2\">Say Hi!</Typography>\n\n    return <Flex flexDirection=\"column-reverse\" className={classes.messagesRoot}>\n        {\n            Object.keys(messages).reverse().map((message_id: string) => {\n\n                const message = messages[message_id];\n                return <Message \n                            key={message_id} \n                            message={message} \n                            author={getAuthor(message.author)} \n                            isOwned={currentAccount?.id === message.author} />\n            })\n        }\n    </Flex>\n}\n\nconst Message = ({ message, author, isOwned }: { message: IMessage, author: IAccount | null, isOwned: boolean }) => {\n    const classes = useStyles();\n\n    let value = message.value;\n    try {\n        value = atob(message.value);\n    } catch(err) {\n        console.log(err);\n    }\n\n    const rootClasses = cx(classes.message, { [classes.ownedMessage]: isOwned, [classes.notOwnedMessage]: !isOwned });\n\n    return <Flex alignItems=\"flex-end\" className={classes.messageRoot} style={{ alignSelf: isOwned ? \"flex-end\" : \"flex-start\" }}>\n        { !isOwned && author?.avatar_url && <img alt=\"author avatar\" src={author.avatar_url} className={classes.avatar} />}\n        <div className={rootClasses}>\n            <ReactMarkdown source={value} />\n        </div>\n    </Flex>\n}\n\nexport default Messages;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n\n    },\n    inputElement: {\n        borderRadius: \"20px\",\n        border: \"0\",\n        outline: \"none\",\n        background: \"#e0e0e0\",\n        padding: \"12px 15px\",\n        minWidth: \"80vw\",\n        minHeight: \"16px\",\n        \n\n        resize: \"none\"\n    }\n}));\n\nexport default useStyles;","import React from \"react\";\nimport useStyles from \"./styles\";\n\n// TODO: ref type.\nconst MessageInput = (props: { ref?: any, value: string, onChange: (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => void, onSubmit?: () => void }) => {\n    const classes = useStyles();\n\n    const handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n        if(event.key === \"Enter\" && !event.shiftKey) {\n            event.preventDefault();\n            props.onSubmit && props.onSubmit();\n        }\n    }\n\n    return <div className={classes.root}>\n        <textarea onKeyPress={handleKeyPress} ref={props.ref} value={props.value} onChange={props.onChange} placeholder=\"Write your message...\" className={classes.inputElement} />\n    </div>\n}\n\nexport default MessageInput;","import React, { useState, useRef } from 'react';\nimport { IconButton, Icon } from '@material-ui/core';\nimport MessageInput from 'components/common/MessageInput';\n\nconst MessageForm = (props: { onSubmit: (value: string) => void }) => {\n    const [input, setInput] = useState(\"\");\n\n    const ref = useRef<HTMLInputElement | undefined>();\n\n    const handleTextFieldFocus = () => {\n        if(ref.current)\n            ref.current?.focus();\n    }\n\n    const handleSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n        if(event) event.preventDefault();\n\n        if(input.length > 0) {\n            try {\n                props.onSubmit(btoa(input));\n                setInput(\"\");\n                handleTextFieldFocus();\n            } catch(err) {\n                console.log(err);\n                alert(\"Message contains invalid characters.\")\n            }\n        }\n    }\n    \n    const handleChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        // @ts-ignore\n        setInput(event.target?.value ?? \"\");\n    }\n\n    return <form id=\"message-form\" style={{width: \"100%\", minHeight:\"36px\", position: \"relative\", display: \"flex\", alignItems: \"center\"}} onSubmit={handleSubmit}>\n        <MessageInput ref={ref} value={input} onChange={handleChange} onSubmit={handleSubmit} />\n        <IconButton onClick={() => handleSubmit()}>\n            <Icon color=\"primary\">send</Icon>\n        </IconButton>\n    </form>\n}\n\nexport default MessageForm;","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useStyles from \"../Splash/styles\";\nimport { useStore } from \"store/hooks\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Messages from \"./Messages\";\nimport MessageForm from \"./MessageForm\";\nimport { useRoom } from \"api/hooks\";\nimport { useMessageSubmit } from \"api/messages\";\n\nconst RoomView = () => {\n    const params = useParams<{id: string}>();\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n    const room = useRoom(params.id);\n    const submitMessage = useMessageSubmit(params.id, currentAccount?.id ?? \"\");\n\n    if(!room || !room.id) return <CircularProgress />\n\n    return <div className={classes.root}>\n        \n        {/* <Flex justifyContent=\"flex-start\">\n                <Typography variant=\"h4\">{room.label}</Typography>\n        </Flex>\n        <hr style={{width: \"70vw\"}}/>\n        <br/>*/}\n        <Messages accounts={room?.accounts ?? []} roomId={room.id} />\n        <MessageForm onSubmit={submitMessage} />\n    </div>\n}\n\nexport default RoomView;\n","import React from \"react\"\nimport { useStore } from \"store/hooks\";\nimport { IRoom } from \"types\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst RecentRooms = ({ currentRoomId }: { currentRoomId: string }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <div style={{flexBasis: \"30%\", width: \"30%\"}}>\n        {\n            (currentAccount?.rooms ?? [])\n                .sort(room => room.id === currentRoomId ? -1 : 1)\n                .map(room => <RecentRoom room={room} currentRoomId={currentRoomId} />)\n        }\n    </div>\n}\n\nconst RecentRoom = ({ room, currentRoomId }: { room: IRoom, currentRoomId: string }) => {\n    const history = useHistory();\n\n    if(room.id === currentRoomId) return <p><b>{room.label}</b></p>\n\n    const handleClick = () => {\n        history.push(`/room/${room.id}`)\n    }\n\n    return <p onClick={handleClick}>{room.label}</p>\n}\n\n\nexport default RecentRooms;","import React from \"react\";\nimport Flex from \"components/utils/Flex\";\nimport RoomView from \"./RoomView\";\nimport RecentRooms from \"./RecentRooms\";\nimport { useParams } from \"react-router-dom\";\nimport { useMediaQuery, useTheme } from \"@material-ui/core\";\n\n/**\n * Room page component.\n */\nconst Room = () => {\n    const theme = useTheme();\n    const isMobileOnly = useMediaQuery(theme.breakpoints.down('sm'));\n    const params = useParams<{id: string}>();\n\n    return <Flex width=\"100%\" height=\"100vh\">\n        {!isMobileOnly && <RecentRooms currentRoomId={params.id} />}\n        <RoomView />\n    </Flex>\n}\n\nexport default Room;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n\n    },\n}));\n\nexport default useStyles;","import React, { useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport { useCommand } from \"api/hooks\";\nimport { AccountList } from \"api/commands\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { IAccount } from \"types\";\nimport { CircularProgress, Avatar, Typography, Icon } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport Flex from \"components/utils/Flex\";\n\ntype AccountPickerProps = {\n    onChange: React.Dispatch<React.SetStateAction<string[]>> | React.Dispatch<React.SetStateAction<string>>;\n    value: string | string[]\n    multiple?: boolean;\n    style?: any;\n    disabled?: boolean;\n}\n\n/**\n * \n * describe this function...\n */\nconst AccountPicker = (props: AccountPickerProps) => {\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.contacts?.map(contact => contact.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        // @ts-ignore\n        props.onChange((prevValue: any) => ([]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleChange = (account_id: string) => {\n        if(props.disabled) return;\n\n        // TODO: Ugly code, refactor that!!\n        // @ts-ignore\n        props.onChange((value: any) => {\n            if(props.multiple && Array.isArray(value)) {\n                let arr = [...value];\n\n                if(arr.includes(account_id)) arr.splice(value.indexOf(account_id), 1);\n                else arr.push(account_id);\n    \n                return [...arr];\n            } else {\n                return value === account_id ? \"\" : account_id;\n            }\n        });\n    }\n\n    if(!accounts) return <Flex width=\"100%\" height=\"60px\" alignItems=\"center\" justifyContent=\"center\"><CircularProgress /></Flex>\n\n    return <div className={classes.root} style={props.style}>\n        {\n            accounts.map((account: IAccount) =>\n                <SingleAccount key={account.id} account={account} onClick={(account_id) => handleChange(account_id)} selected={props.value.includes(account.id)} /> )\n        }\n    </div>\n}\n\n/**\n * \n * Describe this function...\n */\nconst SingleAccount = ({ account, onClick, selected }: { account: IAccount, onClick: (account_id: string) => void, selected: boolean }) => {\n\n    const handleClick = () => {\n        onClick(account.id);\n    }\n\n    return <Flex style={{paddingTop: \"12px\", cursor: \"pointer\"}} onClick={handleClick} justifyContent=\"flex-start\" alignItems=\"center\">\n            <Avatar \n                style={{width: \"54px\", height: \"54px\", backgroundColor: selected ? \"green\" : \"initial\"}} \n                alt={account.label}  \n                src={selected ? undefined : account.avatar_url }>\n                    {selected ? <Icon>check</Icon> : account.label}\n                </Avatar>\n\n            <div style={{margin: \"0 0 0 20px\"}}>\n                <Typography style={{margin: \"0\"}} variant=\"h6\">{account.label}</Typography>\n                <Typography style={{margin: \"0\", opacity: \".6\"}}>{account.email}</Typography>\n            </div>\n        </Flex>\n}\n\nexport default AccountPicker;","import React from 'react'\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Typography } from '@material-ui/core';\nimport AccountPicker from 'components/common/AccountPicker';\nimport { useHistory } from 'react-router-dom';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { useDispatchCommand } from 'api/hooks';\nimport { RoomCreate } from 'api/commands';\nimport Flex from 'components/utils/Flex';\nimport { Alert } from '@material-ui/lab';\nimport { updateCurrentAccount } from 'store/actions';\n\nconst CreateRoom = () => {\n    const [error, setError] = React.useState(\"\");\n    const [loading, setLoading] = React.useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [selected, setSelected] = React.useState<string[]>([]);\n    const [label, setLabel] = React.useState(\"\");\n  \n    const history = useHistory();\n    const currentAccount = useStore(state => state.currentAccount);\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleSubmit = async () => {\n      setLoading(true);\n      const newRoom = await dispatchCommand(RoomCreate, currentAccount?.id ?? \"\", label, selected);\n\n      if (newRoom.status === 200) {\n        // Refetch current account to display updated rooms list.\n        dispatchStore(await updateCurrentAccount(currentAccount?.id ?? \"\"));\n\n        const room_id = newRoom!.data!.room_id;\n        history.push(`/room/${room_id}`)\n      } else if(newRoom.status === 404) {\n        // @ts-ignore\n        setError(newRoom?.message ?? \"Unexpected error occurred\")\n      }\n\n      setLoading(false);\n    }\n\n    const handleLabelChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      // @ts-ignore\n      const value = event?.target?.value ?? \"\";\n\n      setLabel(value);\n    }\n\n    const isSubmitDisabled = label.length === 0 || selected.length === 0 || loading;\n\n    return <div>\n        <Button variant=\"contained\" onClick={handleClickOpen}>Create Room</Button>\n        \n        <Dialog fullWidth onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle id=\"customized-dialog-title\">\n            Create room\n          </DialogTitle>\n          \n          <DialogContent dividers>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n\n            <TextField disabled={loading} fullWidth id=\"outlined-basic\" label=\"Room name\" value={label} onChange={handleLabelChange} variant=\"outlined\" />\n\n            <Typography style={{marginTop: \"35px\"}} variant=\"h5\" >Invite friends</Typography>\n            \n            <AccountPicker disabled={loading} style={{margin: \"20px 0\"}} multiple value={selected} onChange={setSelected} />\n          </DialogContent>\n          \n          <DialogActions>\n            <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\">\n              \n              {selected.length > 0 ? <Typography>Selected {selected.length} {selected.length > 1 ? \"friends\" : \"friend\"}</Typography>\n              : <Typography>Select a friend</Typography>}\n\n              <div>\n                <Button autoFocus onClick={handleClose} color=\"primary\">\n                  Close\n                </Button>\n                <Button disabled={isSubmitDisabled} autoFocus onClick={handleSubmit} color=\"primary\">\n                  Create\n                </Button>\n              </div>\n            </Flex>\n          </DialogActions>\n        </Dialog>\n    </div>\n\n\n}\n\n\n\nexport default CreateRoom;","import React from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { IRoom } from \"types\";\nimport CreateRoom from \"./CreateRoom\";\n\n\n\nconst Rooms = () => {\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <div>\n        <Typography variant=\"h2\" gutterBottom>Rooms</Typography>\n        {\n            currentAccount?.rooms && currentAccount.rooms.map(room => <RoomLabel key={room.id} {...room} />)\n        }\n        <CreateRoom />\n    </div>\n}\n\nconst RoomLabel = (props: IRoom) => {\n    const history = useHistory();\n\n    return <Typography onClick={() => history.push(`/room/${props.id}`)}>{props.label}</Typography>\n}\n\nexport default Rooms;","import React from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport { TContact } from \"types\";\n\n\nconst People = () => {\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <div>\n        <Typography variant=\"h2\" gutterBottom>People</Typography>\n        {\n            currentAccount?.contacts && currentAccount.contacts.map(contact => <ContactLabel key={contact.account_id} {...contact} />)\n        }\n    </div>\n}\n\nconst ContactLabel = (props: TContact) => {\n    return <Typography color={props.favorite ? \"primary\" : \"initial\"}>{props.account_id}</Typography>\n}\n\n\nexport default People;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    }\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Home\",\n        pl_PL: \"Strona główna\",\n        de_DE: \"Startseite\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { signOut } from \"api/auth\";\nimport { useStorageSetter } from \"storage/hooks\";\nimport { setCurrentAccount } from \"store/actions\";\nimport Flex from \"components/utils/Flex\";\n\n/**\n * Home page component.\n */\nconst Highlights = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        history.push(\"/login\");\n    }\n\n    return <div className={classes.root}>\n        <Typography variant=\"h2\">{translated.title}</Typography>\n        <Flex flexDirection=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n            {currentAccount && <Button onClick={() => history.push(\"/profile\")}>{currentAccount.label} Profile</Button>}\n            {currentAccount && <Button variant=\"contained\" onClick={handleSignOut}>Sign out</Button>}\n        </Flex>\n    </div>\n\n\n}\n\nexport default Highlights;","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeIcon from '@material-ui/icons/Home';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport GroupIcon from '@material-ui/icons/Group';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n    root: {\n        bottom: \"0\",\n        position: \"fixed\",\n        width: \"100%\",\n        boxShadow: \"0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)\"\n    },\n  });\n\n  const TABS = [\"highlights\", \"rooms\", \"people\"];\n  \n  const BottomNav = ({visible}:{visible: boolean}) => {\n    const history = useHistory();\n    const location = useLocation();\n    const classes = useStyles();\n    const [value, setValue] = React.useState(TABS.indexOf(location.pathname.split(\"/\")[2]) || 0);\n    if (!visible) return null\n\n    return <div>\n\n    <BottomNavigation\n      value={value}\n      onChange={(event, newValue) => {\n        setValue(newValue);\n      }}\n      showLabels\n      className={classes.root}\n    >\n      <BottomNavigationAction onClick={() => history.push(\"/home/highlights\")} label=\"Highlights\" icon={<HomeIcon />} />\n      <BottomNavigationAction onClick={() => history.push(\"/home/rooms\")} label=\"Rooms\" icon={<ForumIcon />} />\n      <BottomNavigationAction onClick={() => history.push(\"/home/people\")} label=\"People\" icon={<GroupIcon />} />\n    </BottomNavigation>\n\n    </div>\n}\n\n\nexport default BottomNav;","import React, { useEffect } from 'react';\nimport { Switch, Route, useLocation, useHistory } from \"react-router-dom\";\nimport { Home, Splash, Intro, Profile, Login, Signup, Welcome, Room, Rooms, People, Highlights } from 'components/pages';\nimport { Button } from '@material-ui/core';\nimport BottomNav from 'components/common/BottomNav';\n\nconst homeSubpages = [ \"highlights\", \"rooms\", \"people\" ];\n\nfunction Routes() {\n  const history = useHistory();\n  const location = useLocation();\n\n  // Show BottomNav only when on home screen.\n  const bottomNavVisible = new RegExp(homeSubpages.join(\"|\")).test(location.pathname);\n  \n\n  useEffect(() => {\n    if(location.pathname !== \"/\") {\n      history.push({pathname: \"/\", state:{ initialPath: location.pathname }});\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n  return (\n        <>\n          <Switch>\n              <Route exact path=\"/\"       component={Splash} />\n              <Route exact path=\"/intro\"  component={Intro} />\n              <Route exact path=\"/signup\"  component={Signup} />\n              <Route exact path=\"/welcome\"  component={Welcome} />\n              <Route exact path=\"/login\"  component={Login} />\n              <Route exact path=\"/home\"   component={Home} />\n              <Route exact path=\"/home/highlights\" component={Highlights} />\n              <Route exact path=\"/home/rooms\"  component={Rooms} />\n              <Route exact path=\"/home/people\"  component={People} />\n              <Route exact path=\"/profile\"  component={Profile} />\n              <Route path=\"/room/:id\"  component={Room} />\n\n\n              {/* TODO: Move to a file... */}\n              <Route exact component={() => <div>Error page <br/> <Button variant=\"contained\" onClick={() => history.push(\"/\")}>Reload</Button></div>} />\n          </Switch>\n          <BottomNav visible={bottomNavVisible} />\n        </>\n  );\n}\n\nexport default Routes;\n","import { createMuiTheme } from \"@material-ui/core\";\n\nexport default createMuiTheme({\n    palette: {\n        primary: {\n            main: \"#449ee2\"\n        },\n        secondary: {\n            main: \"#99d8ff\"\n        },\n        background: {\n            default: \"#FAFAFA\"\n        }\n    },\n    spacing: 4\n\n  })","import {useState} from \"react\";\n\nconst LOCALES = Object.freeze([ \"en_US\", \"pl_PL\", \"de_DE\" ]);\n\nconst PRESET = Object.freeze({\n    yes: {\n        en_US: \"Yes\",\n        pl_PL: \"Tak\",\n        de_DE: \"Ja\"\n    },\n    no: {\n        en_US: \"No\",\n        pl_PL: \"Nie\",\n        de_DE: \"Nein\"\n    }\n});\n\nexport const useLocale = () => {\n    const [locale, setLocale] = useState(LOCALES[0]);\n\n    return [locale, setLocale, PRESET];\n}","import React, { useState } from \"react\";\nimport { StoreContext, IState, INITIAL_STATE } from \"./context\";\n\n\ntype StoreProviderProps = {\n    children: JSX.Element;\n    initialState?: IState\n}\n\n/**\n * React component providing Store context.\n */\nconst StoreProvider = ({ children, initialState }: StoreProviderProps) => {\n    const [value, setValue] = useState<IState>(initialState ?? INITIAL_STATE);\n\n    return <StoreContext.Provider value={[value, setValue]}>\n        {children}\n    </StoreContext.Provider>\n}\n\nexport default StoreProvider;","import React from 'react';\nimport { ThemeProvider } from \"@material-ui/core\";\nimport LitteraProvider from \"react-littera\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport Routes from './Routes';\nimport theme from \"./theme\";\nimport { useLocale } from './utils/hooks/locale';\nimport StoreProvider from 'store/StoreProvider';\n\nfunction App() {\n  const [language, setLanguage, preset] = useLocale();\n\n  return (\n    <StoreProvider>\n      <ThemeProvider theme={theme}>\n        <LitteraProvider language={language} setLanguage={setLanguage} preset={preset}>\n          <Router basename={process.env.REACT_APP_BASENAME ?? \"/\"}>\n            <Routes />\n          </Router>\n        </LitteraProvider>\n      </ThemeProvider>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as firebase from 'firebase/app';\n \nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/messaging';\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASEURL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENTID,\n});\n\nfirebase.messaging().usePublicVapidKey(\"BFpEHR0UHDMxqVkWLbe884ukhegFUVl-SPUGpDaG2PG9BaQMr5BmNeq3BAyzMfqMD-kiJV-dwQKEDcubgNMRozw\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/wave.21665015.svg\";"],"sourceRoot":""}